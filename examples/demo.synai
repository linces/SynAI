orchestrator "demo_advanced" {
  agents {
    analyzer: LLM {
      model: "claude-3-opus-20240229"
      capabilities: ["reason", "analyze"]
      endpoint: "https://api.anthropic.com/v1"
    }
    coder: LLM {
      model: "grok-beta"
      capabilities: ["code", "generate"]
      endpoint: "https://api.x.ai/v1"
    }
    summarizer: LLM {
      model: "claude-3-sonnet-20240229"
      capabilities: ["summarize", "reason"]
      endpoint: "https://api.anthropic.com/v1"
    }
    visualizer: Vision {
      model: "gpt-4-vision-preview"
      capabilities: ["image_analyze", "describe"]
      endpoint: "https://api.openai.com/v1"
    }
  }
  workflow "data_pipeline" {
    start: analyzer.intent("analyze_data", input: "data.txt", output: "analysis.json")
    connect analyzer.output -> visualizer.input { async: true timeout: 10s transform: "json_to_image" }
    connect visualizer.output -> coder.input { retry: 3 filter: "success" }
    step: coder.intent("generate_code", input: "analysis.json", output: "script.py")
    connect coder.output -> summarizer.input { async: false timeout: 5s }
    end: summarizer.intent("generate_summary", input: "script.py", output: "final_report.md")
  }
}
run "demo_advanced" with workflow "data_pipeline"